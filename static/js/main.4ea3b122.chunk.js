(this["webpackJsonpweather-station"]=this["webpackJsonpweather-station"]||[]).push([[0],{23:function(t,e,n){},24:function(t,e,n){},33:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),s=n(6),o=n.n(s),c=(n(23),n(4)),r=(n(24),n(14)),d=n(5),l=n.n(d),u=n(9),j=n(10),b=n(7),p=n(8),m=n(2);function h(t){var e=t.longitude,n=t.latitude,a=Object(m.jsx)(b.a,{icon:p.d}),s=Object(i.useState)("metric"),o=Object(c.a)(s,2),r=o[0],d=o[1],h=Object(i.useState)({place:"",retrieved:"",conditions:"",visibility:"",visibilityUnit:"",temp:"",tempUnit:"",humidity:"",wind:"",windUnit:"",windDirection:"",windDirectionUnit:""}),O=Object(c.a)(h,2),w=O[0],f=O[1],g=Object(i.useState)({place:"",retrieved:"",conditions:"",visibility:"",visibilityUnit:"",temp:"",tempUnit:"",humidity:"",wind:"",windUnit:"",windDirection:"",windDirectionUnit:""}),v=Object(c.a)(g,2),x=v[0],y=v[1],C=function(){var t=Object(u.a)(l.a.mark((function t(){var i,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://api.openweathermap.org/data/2.5/weather?lat="+n+"&lon="+e+"&appid=f763b34d246506fdbef713181cc24c56");case 2:return i=t.sent,t.next=5,i.json();case 5:a=t.sent,y("metric"===r?{place:a.name,retrieved:(new Date).toLocaleDateString()+" at "+(new Date).toLocaleTimeString(),conditions:a.weather[0].main,visibilityUnit:"Meters",temp:Math.round(a.main.temp-273.15),tempUnit:"C",humidity:a.main.humidity,visibility:a.visibility,wind:a.wind.speed,windUnit:"Meters/sec",windDirection:a.wind.deg,windDirectionUnit:"Degrees"}:{place:a.name,retrieved:(new Date).toLocaleDateString()+" at "+(new Date).toLocaleTimeString(),conditions:a.weather[0].main,visibilityUnit:"Feet",temp:Math.round(9*(a.main.temp-273.15)/5+32),tempUnit:"F",humidity:a.main.humidity,visibility:Math.round(3.281*a.visibility),wind:Math.round(3.281*a.wind.speed),windUnit:"Feet/sec",windDirection:a.wind.deg,windDirectionUnit:"Degrees"}),f({place:a.name,retrieved:(new Date).toLocaleDateString()+" at "+(new Date).toLocaleTimeString(),conditions:a.weather[0].main,visibilityUnit:"Meters",temp:Math.round(a.main.temp-273.15),tempUnit:"C",humidity:a.main.humidity,visibility:a.visibility,wind:a.wind.speed,windUnit:"Meters/sec",windDirection:a.wind.deg,windDirectionUnit:"Degrees"});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){C()}),[]);var S=function(){y(Object(j.a)(Object(j.a)({},x),{},{tempUnit:"F",temp:Math.round(9*x.temp/5+32),visibility:Math.round(3.281*x.visibility),visibilityUnit:"Feet",wind:Math.round(3.281*x.wind),windUnit:"Feet/sec"})),d("imperial")},U=function(){y(w),d("metric")};return Object(m.jsxs)("section",{className:"jumbotron ws-centered ws-padding",children:[Object(m.jsxs)("h1",{children:["Weather Conditions at ",x.place]}),Object(m.jsx)("p",{children:Object(m.jsxs)("i",{children:["Last updated: ",x.retrieved," ",Object(m.jsx)("button",{onClick:C,children:a})]})}),Object(m.jsxs)("p",{children:["Conditions: ",x.conditions]}),Object(m.jsxs)("p",{children:["Visibility:"," ",x.visibility+" "+x.visibilityUnit]}),Object(m.jsxs)("p",{children:["Temp: ",x.temp,"\xb0\xa0",x.tempUnit]}),Object(m.jsxs)("p",{children:["Humidity: ",x.humidity,"%"]}),Object(m.jsxs)("p",{children:["Wind Speed: ",x.wind+" "+x.windUnit]}),Object(m.jsxs)("p",{children:["Wind Direction:"," ",x.windDirection+" "+x.windDirectionUnit]}),Object(m.jsxs)("div",{className:"custom-control custom-switch",children:[Object(m.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"switch-"+t.stationId,onClick:function(){"imperial"===r?U():S()}}),Object(m.jsxs)("label",{className:"custom-control-label",htmlFor:"switch-"+t.stationId,children:["\xa0\xb0",x.tempUnit]})]})]})}var O=n(13);function w(){var t=Object(i.useState)({stations:[],stationCount:0}),e=Object(c.a)(t,2),n=e[0],a=e[1],s=Object(i.useState)(!1),o=Object(c.a)(s,2),d=o[0],j=o[1],w=Object(i.useState)(""),f=Object(c.a)(w,2),g=f[0],v=f[1],x=Object(m.jsx)(b.a,{icon:p.a}),y=Object(m.jsx)(b.a,{icon:p.b}),C=Object(m.jsx)(b.a,{icon:p.e}),S=Object(m.jsx)(b.a,{icon:p.c}),U=function(t){a({stations:[{lat:t.coords.latitude,lon:t.coords.longitude,stationId:n.stationCount+1}],stationCount:n.stationCount+1})},D=function(t){var e=n.stationCount;a({stations:[{lat:47.61,lon:-122.33,stationId:e+1}],stationCount:e+1})};Object(i.useEffect)((function(){k()}),[]);var I=function(){var t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.geolocation.getCurrentPosition(U,D);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=localStorage.getItem("cody@gmail.com"),e=JSON.parse(t).weatherStations;if(e.length>=1){var n=e[e.length-1].stationId;a({stations:e,stationCount:n})}else I()},N=function(){var t=Object(u.a)(l.a.mark((function t(e){var i,s,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=8;break}return t.next=3,fetch("http://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=f763b34d246506fdbef713181cc24c56");case 3:return i=t.sent,t.next=6,i.json();case 6:null!=(s=t.sent)&&s.hasOwnProperty("coord")?(o=Object(r.a)(n.stations),c=n.stationCount,o.push({lat:s.coord.lat,lon:s.coord.lon,stationId:c+1}),a({stations:o,stationCount:c+1}),localStorage.setItem("cody@gmail.com",JSON.stringify({password:"password123",weatherStations:o}))):alert("Sorry, that weather location could not be found.");case 8:j(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=[];if(0!==n.stations.length){for(var M=function(t){L.push(Object(m.jsxs)("div",{children:[Object(m.jsx)(h,{latitude:n.stations[t].lat,longitude:n.stations[t].lon,stationId:n.stations[t].stationId},n.stations[t].stationId),Object(m.jsx)("button",{onClick:function(){return function(t){var e=n.stationCount,i=Object(r.a)(n.stations);i.splice(t,t),a({stations:i,stationCount:e}),localStorage.setItem("cody@gmail.com",JSON.stringify({password:"password123",weatherStations:i}))}(t)},children:C}),Object(m.jsx)("button",{onClick:function(){return function(t){if(0!==t){var e=n.stationCount,i=Object(r.a)(n.stations),s=i[t];i[t]=i[t-1],i[t-1]=s,a({stations:i,stationCount:e})}}(t)},children:y}),Object(m.jsx)("button",{onClick:function(){return function(t){if(t!==n.stations.length-1){var e=n.stationCount,i=Object(r.a)(n.stations),s=i[t];i[t]=i[t+1],i[t+1]=s,a({stations:i,stationCount:e})}}(t)},children:x})]}))},F=0;F<n.stations.length;++F)M(F);return Object(m.jsxs)("div",{children:[Object(m.jsxs)(O.a,{size:"lg",show:d,onHide:function(){return j(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(m.jsx)(O.a.Header,{closeButton:!0,children:Object(m.jsx)(O.a.Title,{id:"example-modal-sizes-title-lg",children:"Enter a city, state, and country"})}),Object(m.jsxs)(O.a.Body,{children:[Object(m.jsx)("input",{type:"text",onChange:function(t){v(t.target.value)}}),Object(m.jsx)("button",{id:"button",onClick:function(){N(g)},children:"Add"})]})]}),L,Object(m.jsx)("button",{className:"float",id:"addStationBtn",onClick:function(){j(!0)},children:S})]})}return Object(m.jsx)("h1",{children:"no stations added"})}var f=n(16);function g(t){var e=t.isLoggedInSetter,n=Object(i.useState)(!1),a=Object(c.a)(n,2),s=a[0],o=a[1];Object(i.useEffect)((function(){e(s)}),[e,s]);var r=Object(i.useState)({email:"",password:""}),d=Object(c.a)(r,2),l=d[0],u=d[1],b=function(t){u(Object(j.a)(Object(j.a)({},l),{},Object(f.a)({},t.target.name,t.target.value)))};return Object(m.jsxs)("div",{className:"login-page-container",children:[Object(m.jsx)("h1",{children:"Log In"}),"email:",Object(m.jsx)("input",{className:"form-input",type:"email",name:"email",onChange:b,value:l.email}),Object(m.jsx)("br",{}),"password:",Object(m.jsx)("input",{className:"form-input",type:"password",name:"password",onChange:b,value:l.password}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{className:"form-input",onClick:function(){var t=localStorage.getItem(l.email);null!==t?JSON.parse(t).password===l.password?o(!0):alert("email or password incorrect"):alert("email or password incorrect")},children:"login"}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{className:"form-input",onClick:function(){var t=JSON.stringify({password:"password123",weatherStations:[]});localStorage.setItem("cody@gmail.com",t),alert("account created\nemail: cody@gmail.com\npassword: password123")},children:"create account"})]})}var v=function(){var t=Object(i.useState)(!1),e=Object(c.a)(t,2),n=e[0],a=e[1],s=Object(i.useCallback)((function(t){a(t)}),[a]);return Object(m.jsx)("div",{className:"App",children:n?Object(m.jsxs)("div",{children:[Object(m.jsx)(w,{}),Object(m.jsx)("button",{className:"signout",onClick:function(){a(!1)},children:"sign out"})]}):Object(m.jsx)(g,{isLoggedIn:n,isLoggedInSetter:s})})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),i(t),a(t),s(t),o(t)}))};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(v,{})}),document.getElementById("root")),x()}},[[33,1,2]]]);
//# sourceMappingURL=main.4ea3b122.chunk.js.map